<div class="container user-setting">
    <div class="row">
        <div class="panel panel-default panel-col col-md-8 col-md-offset-2">
          <div class="panel-heading">个人设置</div>
          <div class="panel-body">
            <form class="form-horizontal mtm "  name="form" role="form"  novalidate ng-submit="vm.save()" show-validation>
              <div class="form-group media">
                <label class="col-md-2 control-label">头像</label>
                <div class="media-body media-right setting-body  col-md-7 text-center controls" >
		              <span user-avatar user-account="vm.settingsAccount" avatar-size="2x"></span>
                  <button ng-disabled="saveAvatarState==1" type="button"
                         class="btn btn-link  dart-default-btn mlsm text-center"
                         ngf-select ng-model="avatarPicked" name="file" ngf-pattern="IMAGE_TYPES.pattern"
                         ngf-accept="IMAGE_TYPES.mime" ngf-max-size="1MB" ngf-change="onAvatarPicked($file)">
                         <span>修改图像</span></button>
                <button ng-if="false&&account.avatar" type="button" ng-click="clearAvatar()" class="btn btn-danger media-middle dart-default-btn mll">
                    <span translate="settings.pictures.clear">Clear</span></button>
		            </div>
                <!-- <div class="col-md-9 text-center"> -->

				    <!-- </div> -->
				    <div ng-if="avatarPicked" class="media-body media-heading avatar-jcrop pick-img" ng-jcrop="avatarImgContent"
				         selection="avatarSelection" thumbnail="true"></div>
				    <div ng-if="avatarPicked" class="avatar-buttons">
				        <button ng-disabled="saveAvatarState==1" type="button" class="btn btn-default mrl mlm dart-default-btn"
				                ngf-select ng-model="avatarPicked" name="repickfile" ngf-pattern="IMAGE_TYPES.pattern"
				                ngf-accept="IMAGE_TYPES.mime" ngf-max-size="1MB" ngf-change="onAvatarPicked($file)"><span
				                translate="settings.pictures.reselect">Reselect</span></button>
				        <button ng-disabled="saveAvatarState==1" type="button" class="btn btn-success pll prl mrl dart-default-btn"
				                ng-click="saveAvatar()">
				            {{saveAvatarState==0?'settings.form.button':'buttons.saving'|translate}}
				        </button>
				        <button ng-disabled="saveAvatarState==1" type="button" class="btn btn-default  white-btn pll prl mrl dart-default-btn"
				                ng-click="cancelAvatar()">
				            <span translate="buttons.cancel">Cancel</span>
				        </button>
				    </div>
				    <div ng-if="form.file.$error.pattern||form.repickfile.$error.pattern">
				        <label class="avatar-desc">&nbsp;</label><label class="text-danger"><i class="fa fa-ban"></i> <span
				            translate="settings.pictures.wrongType">The file type you selected is incorrect, supported by type:</span>
				        {{IMAGE_TYPES.description}}.</label>
				    </div>
				    <div ng-if="form.file.$error.maxSize||form.repickfile.$error.maxSize">
				        <label class="avatar-desc">&nbsp;</label><label class="text-danger"><i class="fa fa-ban"></i> <span
				            translate="settings.pictures.tooLarge">You choose the file is too large, more than 1MB.</span></label>
				    </div>
				</div>

                <div class="form-group">
                    <label class="control-label col-md-2" for="name" data-translate="settings.form.name">Name</label>
                    <div class="controls col-md-7">
                      <input type="text" class="  form-control " id="name" name="name" placeholder="{{'settings.form.name.placeholder' | translate}}"
                             ng-model="vm.settingsAccount.name" ng-minlength=1 ng-maxlength=50 required maxlength="50">
                      <div ng-show="form.name.$dirty && form.name.$invalid">
                          <p class="help-block"
                                 ng-show="form.name.$error.required" data-translate="settings.messages.validate.name.required">
                              Your name is required.
                          </p>
                          <p class="help-block"
                                 ng-show="form.name.$error.minlength" data-translate="settings.messages.validate.name.minlength">
                              Your name is required to be at least 1 character.
                          </p>
                          <p class="help-block"
                                 ng-show="form.name.$error.maxlength" data-translate="settings.messages.validate.name.maxlength">
                              Your name cannot be longer than 50 characters.
                          </p>
                      </div>
                    </div>
                </div>
                <div class="form-group">
                    <label class="control-label col-md-2" for="email" data-translate="global.form.email">Email</label>
                    <div class="controls col-md-7">
                      <input type="email" class="form-control " id="email" name="email" placeholder="{{'global.form.email.placeholder' | translate}}"
                             ng-model="vm.settingsAccount.email" ng-minlength=5 ng-maxlength=100 required maxlength="100">
                      <div ng-show="form.email.$dirty && form.email.$invalid">
                          <p class="help-block"
                                 ng-show="form.email.$error.required" data-translate="global.messages.validate.email.required">
                              Your email is required.
                          </p>
                          <p class="help-block"
                                 ng-show="form.email.$error.email" data-translate="global.messages.validate.email.invalid">
                              Your email is invalid.
                          </p>
                          <p class="help-block"
                                 ng-show="form.email.$error.minlength" data-translate="global.messages.validate.email.minlength">
                              Your email is required to be at least 5 characters.
                          </p>
                          <p class="help-block"
                                 ng-show="form.email.$error.maxlength" data-translate="global.messages.validate.email.maxlength">
                              Your email cannot be longer than 100 characters.
                          </p>
                      </div>
                    </div>
                </div>
                <div class="form-group">
                    <label class="control-label col-md-2" for="mobile" data-translate="global.form.mobile">Mobile</label>
                    <div class="controls col-md-7">
                      <input type="text" class="form-control" id="mobile" name="mobile" placeholder="{{'global.form.mobile.placeholder' | translate}}"
                             ng-model="vm.settingsAccount.mobile" ng-minlength=1 ng-maxlength=50 required maxlength="50">
                      <div ng-show="form.mobile.$dirty && form.mobile.$invalid">
                          <p class="help-block"
                                 ng-show="form.mobile.$error.required" data-translate="settings.messages.validate.mobile.required">
                              Your mobile is required.
                          </p>
                          <p class="help-block"
                                 ng-show="form.mobile.$error.minlength" data-translate="settings.messages.validate.mobile.minlength">
                              Your mobile is required to be at least 1 character.
                          </p>
                          <p class="help-block"
                                 ng-show="form.mobile.$error.maxlength" data-translate="settings.messages.validate.mobile.maxlength">
                              Your mobile cannot be longer than 50 characters.
                          </p>
                      </div>
                    </div>
                </div>
                <div class="form-group">
                    <label class="control-label col-md-2" for="sex" data-translate="global.form.sex">Sex</label>
                    <div class="controls col-md-7">
                      <label class="pts">
                        <input class="mrm" type="radio" name="sex" ng-model="vm.settingsAccount.sex" value="男" ng-checked="true"/> 男
                        <input type="radio" name="sex" ng-model="vm.settingsAccount.sex" value="女"/> 女
                      </label>
                    </div>
                </div>
                <div class="form-group">
                    <label class="control-label col-md-2" for="staffNo" >教师工号</label>
                    <div class="controls col-md-7">
                      <input type="text" class="form-control" id="staffNo" name="staffNo" placeholder="教师工号"
                             ng-model="vm.settingsAccount.staffNo" >
                    </div>

                </div>
                <div class="form-group">
                    <label class="control-label col-md-2" for="major" data-translate="global.form.major"  >Major</label>
                    <div class="controls col-md-7">
                      <select class="form-control" name="" >
                        <option ng-repeat="major in vm.majors" value="">{{major.major}}</option>
                      </select>
                    </div>
                </div>
                <div class="form-group">
                  <div class="controls col-md-7  col-md-offset-2 text-center">
                        <button type="submit" ng-disabled="form.$invalid" class="btn btn-primary " data-translate="settings.form.button">Save</button>
                  </div>
                </div>

            </form>

    </div>
</div>
    </div>

</div>
